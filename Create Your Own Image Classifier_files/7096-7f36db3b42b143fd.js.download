"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7096],{9562:function(e,t,n){n.d(t,{P:function(){return u}});var r=n(85893),o=n(41664),i=n(50514);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var u=function(e){var t=e.children,n=s(e,["children"]);if(!n.href)throw new Error("AnchorLink requires an href prop");return(0,r.jsx)(o.default,{href:n.href,passHref:!0,children:(0,r.jsx)(i.rU,l({},n,{children:t}))})}},93903:function(e,t,n){n.d(t,{Z:function(){return v}});var r=n(85893),o=n(67294),i=n(11163),a=n(26793),l=n(59251),s=n(50514),u=n(73562),c=n(9562),d=n(93108),p=n(28859),f=n(71447),m=n(69549),g=n(67448),v=function(e){var t,n,v=e.programKey,h=(0,a.$)().t,x=(0,f.z)().track,b=(0,i.useRouter)(),j=(0,m.B)().selectEnrollmentForKey,y=(0,g._)().enrollmentsNeedingIdVerification,w=null!==(n=null===(t=j(v))||void 0===t?void 0:t.id)&&void 0!==n?n:"",S=!y.includes(w),C=(0,o.useCallback)((function(){S&&(x("Graduate Button Clicked",{cta_type:"button",message:"Program Completed"}),b.push("/graduation/".concat(v)))}),[v,b,x,S]);return(0,r.jsxs)(d.Z,{padding:6,onClick:C,children:[(0,r.jsx)(p.Z,{title:h("nanodegree.allDone"),cta:h("nanodegree.programCompleted"),buttonLabel:h("nanodegree.graduate"),isButtonDisabled:!S}),!S&&(0,r.jsx)(u.b,{status:"warning",mt:10,children:(0,r.jsx)(s.xv,{children:(0,r.jsxs)(l.c,{i18nKey:"graduation.toGraduateVerify",children:["_",(0,r.jsx)(c.P,{href:"/settings/personal-info",children:"_"})]})})})]})}},48384:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(85893),o=n(67294),i=n(14293),a=n.n(i),l=n(96026),s=n.n(l),u=n(26793),c=n(50514),d=n(62255),p=n(42642),f=function(e){var t=e.onClick,n=e.rating,i=void 0===n?null:n,l=e.filledColor,f=e.emptyColor,m=e.fixed,g=(0,u.$)().t,v=(0,o.useState)(null),h=v[0],x=v[1],b=a()(h)?i:h,j=function(e){!m&&x(e.number)},y=s()(1,6).map((function(e){return{number:e,title:g("lesson.lab.starTitle",{rating:e})}}));return(0,r.jsx)(c.kC,{justify:"center",alignItems:"center",onMouseLeave:function(){x(null)},children:y.map((function(e){var n=!!b&&b>=e.number;return(0,r.jsx)(c.xu,{onFocus:function(){return j(e)},onMouseOver:function(){return j(e)},children:(0,r.jsx)(d.hU,{"aria-label":"Rating star ".concat(e.number),"data-testid":"star-".concat(e.number),variant:"ghost",onClick:function(){return function(e){t&&t(e.number)}(e)},icon:n?(0,r.jsx)(p.VGR,{color:l,w:8,h:8,role:"img","aria-label":"star full"}):(0,r.jsx)(p.WBf,{color:f,w:8,h:8,role:"img","aria-label":"star empty"}),isRound:!0,p:2,_hover:{bg:"transparent",boxShadow:"none"},_active:{bg:"transparent",boxShadow:"none"},_focus:{bg:"transparent",boxShadow:"none"}})},e.number)}))})}},10034:function(e,t,n){n.d(t,{O:function(){return a}});var r=n(85893),o=(n(67294),n(24021)),i=n(71447),a=function(e){var t=e.trackingEventName,n=e.ctaTextEn,a=e.children,l=e.onClick,s=(0,i.z)().track;return(0,r.jsx)(o.OK,{onClick:function(){l&&l(),s(t,{cta_type:"tab",cta_text:n})},children:a})}},22645:function(e,t,n){n.d(t,{$Z:function(){return i},Km:function(){return a},vI:function(){return l},Y7:function(){return s}});var r=n(23452),o=n(26367);function i(e){return e.lessons?e.lessons.reduce((function(e,t){return t.project?e.concat([t.project]):e}),[]):[]}function a(e){if(!e.lessons)return{total:0,completed:0,percent:0};var t=e.lessons.reduce((function(e,t){if(!t.concepts)return{total:0,completed:0};var n=t.concepts.reduce((function(e,t){var n;return e+((null===(n=t.userState)||void 0===n?void 0:n.completedAt)?1:0)}),0);return{total:e.total+t.concepts.length,completed:e.completed+n}}),{total:0,completed:0}),n=t.total,r=t.completed;return{completed:r,total:n,percent:Math.round(r/Math.max(n,1)*100)}}function l(e,t){var n,o=a(e),i=(n=e).lessons?n.lessons.reduce((function(e,t){return e+(t.duration||0)}),0):0;return(0,r.v)(i,o,t)}function s(e){return e.partType===o.pX.Core}},7096:function(e,t,n){n.r(t),n.d(t,{default:function(){return Se}});var r=n(85893),o=n(67294),i=n(11163),a=n(2962),l=n(26793),s=n(50514),u=n(24021),c=n(69868),d=n(98405),p=n(93903),f=n(8431),m=n(76673),g=n(26309),v=n(22645),h=n(63598),x=n(3397),b=n(26367),j=n(41664),y=n(58692),w=n(42642),S=n(93108),C=n(45819),k=n(10037),E=n(7527),T=n(92098),O=n(25092),M=function(e){var t=e.dueAt,n=(0,l.$)().t,i=(0,O.P)().isStaticAccess,a=(0,o.useMemo)((function(){return(0,T.zO)().isAfter(t)}),[t]),s=(0,o.useMemo)((function(){return a?n("nanodegree.pastDue"):n("nanodegree.dueOn",{date:(0,T.Fc)(t).format("l")})}),[a,n,t]);return i?null:(0,r.jsx)(E.Z,{label:s,color:"white"})};function A(e){switch(e){case x.kJ.PASSED:return(0,r.jsx)(w.YJ9,{w:6,h:6,role:"img","aria-label":"checked"});case x.kJ.IN_REVIEW:return(0,r.jsx)(w.wZd,{w:6,h:6,role:"img","aria-label":"time"});case x.kJ.HAS_FEEDBACK:return(0,r.jsx)(w.WTJ,{w:6,h:6,role:"img","aria-label":"mentorship"});case x.kJ.CANCELED_SUBMISSION:return(0,r.jsx)(w.FBB,{w:6,h:6,role:"img","aria-label":"cancel"});case x.kJ.ERRED_SUBMISSION:return(0,r.jsx)(w.aNP,{w:6,h:6,role:"img","aria-label":"warning"});default:return(0,r.jsx)(w.TXi,{w:6,h:6})}}var I=function(e){var t=e.part,n=e.actionIcon,i=(0,l.$)().t,a=(0,o.useMemo)((function(){return(0,v.vI)(t,i)}),[t,i]),u=(0,o.useMemo)((function(){var e;return null===t||void 0===t||null===(e=t.lessons)||void 0===e?void 0:e.map((function(e){return e.lab})).filter(k.$)}),[t]),c=(0,o.useMemo)((function(){return(0,v.Km)(t)}),[t]),d=(0,o.useMemo)((function(){return(0,v.$Z)(t)}),[t]);return(0,r.jsxs)(s.rj,{gridTemplateColumns:"1fr 2rem",alignItems:"center",columnGap:8,children:[(0,r.jsxs)(s.P4,{children:[(0,r.jsx)(s.xu,{mb:1,children:(0,r.jsxs)(s.kC,{justify:"space-between",alignItems:"center",children:[(0,r.jsx)(s.X6,{size:"h2",children:t.title}),a?(0,r.jsx)(s.xv,{size:"caption",children:a}):(0,r.jsx)("div",{})]})}),(0,r.jsx)(C.u,{label:i("nanodegree.percentComplete",{percent:c.percent}),children:(0,r.jsx)(s.xu,{py:2,children:(0,r.jsx)(f.j,{percent:c.percent,label:"".concat(t.title," ").concat(i("common.progress"))})})}),(!!t.summary||!!(null===u||void 0===u?void 0:u.length)||d.length>0)&&(0,r.jsxs)(s.Kq,{spacing:2,children:[t.summary&&(0,r.jsx)(s.xv,{size:"body",mb:1,children:t.summary}),(!!(null===u||void 0===u?void 0:u.length)||d.length>0)&&(0,r.jsxs)(s.xu,{mb:1,children:[(0,r.jsx)(s.X6,{size:"h5",as:"h3",children:i("common.projects")}),(0,r.jsxs)(s.kC,{flexDirection:"column",m:0,children:[null===u||void 0===u?void 0:u.map((function(e){var t,n,o=e.title;return(0,r.jsxs)(s.kC,{alignItems:"center",gap:1,children:[A(null!==(n=null===e||void 0===e||null===(t=e.result)||void 0===t?void 0:t.state)&&void 0!==n?n:b.kA.Unsubmitted),(0,r.jsx)(s.xv,{children:i("components.partSummary.lab",{labTitle:o})})]},o)})),null===d||void 0===d?void 0:d.map((function(e){var t,n,o=e.title;return(0,r.jsxs)(s.kC,{alignItems:"center",gap:1,children:[A(null!==(n=null===(t=e.projectState)||void 0===t?void 0:t.status)&&void 0!==n?n:x.kJ.UNSUBMITTED),(0,r.jsxs)(s.xv,{children:[e.isOptional&&(0,r.jsxs)(s.xu,{as:"span",color:"gray.700",children:[i("nanodegree.projectOptional")," "]}),i("components.partSummary.project",{projectTitle:o})]}),!e.isOptional&&e.projectState&&e.projectState.dueAt&&e.projectState.status===x.kJ.UNSUBMITTED&&(0,r.jsx)(M,{dueAt:e.projectState.dueAt})]},o)}))]})]})]})]}),(0,r.jsx)(s.P4,{children:n})]})},P=I,R=n(30391),_=n(60299),D=n(71447),N=function(e){var t=e.part,n=(0,i.useRouter)(),a=(0,D.z)().track,u=(0,l.$)().t,c=(0,h.r)(),d=c.nanodegree,p=c.part,f=(0,o.useState)(!1),m=f[0],g=f[1],v=(0,o.useCallback)((function(){var e;if(!(null===(e=t.lock)||void 0===e?void 0:e.isLocked)&&d){var r=_.F.nanodegree(d,t);a("Classroom CTA Clicked",{destination_url:r,cta_type:"button",message:t.title,part_title:t.title}),m||n.push(r,void 0,{shallow:!0,scroll:!1}),g(!m)}}),[t,d,a,m,n]),x=(0,o.useCallback)((function(e){if(d){var n=_.F.nanodegree(d,t,e);a("Program Home To Do Interacted",{destination_url:n,cta_type:"button",lesson_title:e.title,to_do_item:"go to lesson"})}}),[t,d,a]);return(0,o.useEffect)((function(){t.id===(null===p||void 0===p?void 0:p.id)&&g(!0)}),[t,p]),(0,r.jsxs)(S.Z,{padding:0,children:[(0,r.jsx)(s.xu,{as:"button",w:"full",textAlign:"left",p:6,onClick:v,children:(0,r.jsx)(P,{part:t,actionIcon:m?(0,r.jsx)(w.VAA,{w:10,h:10,role:"img","aria-label":u("common.expand"),tabIndex:0}):(0,r.jsx)(w.y8P,{w:10,h:10,role:"img","aria-label":u("common.collapse"),tabIndex:0})})}),(0,r.jsx)(y.UO,{in:m,animateOpacity:!0,children:d&&t.lessons&&(0,r.jsx)(s.Kq,{spacing:4,mt:4,p:6,pt:0,children:t.lessons.map((function(e){return(0,r.jsx)(j.default,{href:_.F.nanodegree(d,t,e),passHref:!0,children:(0,r.jsx)(S.Z,{padding:6,onClick:function(){return x(e)},children:(0,r.jsx)(R.Z,{lesson:e})})},e.key)}))})})]})};function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B(e){return function(e){if(Array.isArray(e))return U(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t,n){switch(n){case b.cl.Completion:return t("nanodegree.completeToUnlock",{incompleteProjectCount:e.reduce((function(e,t){var n;return t.isOptional||(null===(n=t.projectState)||void 0===n?void 0:n.status)===x.kJ.PASSED?e:e+1}),0)});case b.cl.Submission:return t("nanodegree.submitToUnlock",{unsubmittedProjectCount:e.reduce((function(e,t){var n;return t.isOptional||(null===(n=t.projectState)||void 0===n?void 0:n.status)!==x.kJ.UNSUBMITTED?e:e+1}),0)});default:return t("common.locked")}}var L=function(e){var t=e.parts,n=(0,l.$)().t,i=(0,h.r)().part,a=(0,g.h)().scrollingElementRef.current,s=(0,o.useMemo)((function(){return t.reduce((function(e,t){return B(e).concat(B((0,v.$Z)(t)))}),[])}),[t]),u=(0,o.useState)(!1),c=u[0],d=u[1];(0,o.useEffect)((function(){i||d(!0)}),[i]);var p=(0,o.useMemo)((function(){return function(e){if(e&&a){var t=e.offsetTop-a.offsetTop,n=t-64,r=t+e.offsetHeight-a.offsetHeight+64;if(!(a.scrollTop<n&&a.scrollTop>r)){var o=Math.abs(a.scrollTop-n)<Math.abs(a.scrollTop-r)?Math.min(n,a.scrollHeight-a.offsetHeight):Math.max(r,0);c?a.scrollTo({left:a.scrollLeft,top:o,behavior:"smooth"}):(a.scrollTo(a.scrollLeft,Math.min(n,a.scrollHeight-a.offsetHeight)),d(!0))}}}}),[a,c]),f=(0,o.useMemo)((function(){return t.map((function(e,t){var o,a=(null===(o=e.lock)||void 0===o?void 0:o.isLocked)?{status:m.SB.LOCKED,statusTooltip:F(s,n,e.lock.requirement)}:function(e,t){return e.reduce((function(e,n){var r;if(n.isCareer)return e;switch(null===(r=n.projectState)||void 0===r?void 0:r.status){case x.kJ.IN_REVIEW:return{status:m.SB.IN_REVIEW,statusTooltip:t("nanodegree.submissionInReview",{projectTitle:n.title})};case x.kJ.PASSED:return{status:m.SB.PASSED,statusTooltip:t("nanodegree.projectPassed",{projectTitle:n.title})};case x.kJ.HAS_FEEDBACK:return{status:m.SB.FAILED,statusTooltip:t("nanodegree.projectFeedback",{projectTitle:n.title})};case x.kJ.CANCELED_SUBMISSION:return{status:m.SB.CANCELED,statusTooltip:t("nanodegree.submissionCanceled",{projectTitle:n.title})};case x.kJ.ERRED_SUBMISSION:return{status:m.SB.ERRED,statusTooltip:t("nanodegree.errorProcessingSubmission",{projectTitle:n.title})};default:return{status:m.SB.NOT_STARTED,statusTooltip:t("nanodegree.haveNotSubmitted",{projectTitle:n.title})}}}),{status:m.SB.OPTIONAL})}((0,v.$Z)(e),n);return{status:a.status,statusTooltip:a.statusTooltip,displayElement:(0,r.jsx)("div",{ref:e.id===(null===i||void 0===i?void 0:i.id)?p:void 0,children:(0,r.jsx)(N,{part:e,partNumber:t+1})})}}))}),[t,s,n,null===i||void 0===i?void 0:i.id,p]);return(0,r.jsx)(m.ZP,{stages:f})},z=L,K=n(34051),X=n.n(K),$=n(74855),Z=n(60612),H=n(62255),J=n(32579),G=n(58013),W={COURSEREPORT:{img:"/assets/images/review-sites/coursereport.png",url:"https://www.coursereport.com/schools/udacity-nanodegrees#/reviews/write-a-review",name:"Course Report"},G2:{img:"/assets/images/review-sites/g2.png",url:"https://www.g2.com/products/udacity/reviews",name:"G2"},SWITCHUP:{img:"/assets/images/review-sites/switchup.png",url:"https://www.switchup.org/write-review",name:"Switchup"},TRUSTPILOT:{img:"/assets/images/review-sites/trustpilot.png",url:"https://www.trustpilot.com/evaluate/udacity.com",name:"TrustPilot"}},V=[W.TRUSTPILOT,W.COURSEREPORT,W.SWITCHUP,W.G2],q=n(48384),Y=n(85711);function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){l=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var te=function(){var e=(0,h.r)().nanodegree,t=(0,o.useState)(!1),n=t[0],r=t[1],i=(0,Y.B5)(null===e||void 0===e?void 0:e.key),a=i.data,l=i.isError,s=ee((0,Y.PE)(),2),u=s[0],c=s[1],d=c.error,p=c.isLoading;return(0,o.useEffect)((function(){l&&console.error("Unable to retrieve program rating"),d&&console.error("Unable to add program rating")}),[d,l]),{rating:a,addRatingIsLoading:p,handleAddRating:function(e){var t=e.ndKey,n=e.userName,o=e.rating,i=e.review;u({ndKey:t,userName:n,rating:o,review:i}),r(!0)},ratingSubmitted:n}},ne=function(e){var t=e.onClose,n=(0,l.$)().t,i=te().rating,a=(0,o.useState)(""),u=a[0],c=a[1];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.X6,{size:"h1",mb:6,children:n("components.ratingModal.thankYou")}),""===u&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.xv,{size:"body",mb:10,children:n("components.ratingModal.shareMessage")}),(0,r.jsx)(s.xv,{children:n("components.ratingModal.clipboard")}),(0,r.jsx)(s.kC,{justifyContent:"space-between",mt:8,mb:8,children:V.map((function(e,o){var a;return(0,r.jsx)(s.xu,{onClick:function(){return c(e.url)},onKeyDown:function(){return c(e.url)},tabIndex:o+1,w:"20%",shadow:"md",borderRadius:"base",textAlign:"center",cursor:"pointer",border:"2px solid 'transparent'",_hover:{outline:"none",borderColor:"blue.500"},children:(0,r.jsx)($.CopyToClipboard,{text:null!==(a=null===i||void 0===i?void 0:i.student_comment)&&void 0!==a?a:"",children:(0,r.jsx)(s.rU,{href:e.url,onClick:t,children:(0,r.jsx)(J.Ee,{src:e.img,alt:n("components.ratingModal.shareSite"),me:4,p:4,w:"100%",maxW:"100%",maxH:"100%",alignSelf:"center",overflow:"hidden"})})})},u)}))})]}),(0,r.jsxs)(s.xu,{p:12,bg:"gray.100",position:"absolute",left:0,width:"100%",children:[(0,r.jsxs)(s.kC,{justify:"space-between",children:[(0,r.jsx)(s.X6,{size:"h5",children:n("components.ratingModal.yourReview")}),(0,r.jsx)(q.Z,{filledColor:"feedback.warning",rating:null===i||void 0===i?void 0:i.rating,fixed:!0})]}),(0,r.jsx)(s.xv,{children:null===i||void 0===i?void 0:i.student_comment})]})]})},re=n(84513);function oe(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(u){return void n(u)}l.done?t(s):Promise.resolve(s).then(r,o)}var ie=function(e){var t=e.submittedRating,n=e.submittedReview,i=e.onClose,a=e.ratingModalOpen,u=(0,l.$)().t,c=(0,re.a)().user,d=(0,h.r)().nanodegree,p=null===d||void 0===d?void 0:d.key,f=(0,o.useState)(t),m=f[0],g=f[1],v=(0,o.useState)(n),x=v[0],b=v[1],j=(0,o.useState)(!1),y=j[0],w=j[1],S=(0,o.useState)(!1),C=S[0],k=S[1],E=te(),T=E.handleAddRating,O=E.addRatingIsLoading,M=function(){var e,t=(e=X().mark((function e(){var t;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p&&T({ndKey:p,userName:null!==(t=null===c||void 0===c?void 0:c.firstName)&&void 0!==t?t:"",rating:m,review:x}),m&&m>=4?w(!0):k(!0);case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){oe(i,r,o,a,l,"next",e)}function l(e){oe(i,r,o,a,l,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();return(0,r.jsxs)(G.u,{isOpen:a,onClose:i,ariaLabel:u("components.ratingModal.ratingModal"),title:u("components.ratingModal.ratingModal"),headerHidden:!0,children:[y&&(0,r.jsx)(ne,{onClose:i}),C&&(0,r.jsx)(s.X6,{size:"h1",as:"h1",pb:10,children:u("components.ratingModal.thankYouForReview")}),!C&&!y&&(0,r.jsxs)(s.kC,{flexDirection:"column",justifyContent:"space-between",alignItems:"flex-start",children:[(0,r.jsxs)(s.xu,{mb:12,children:[(0,r.jsx)(s.X6,{size:"h1",as:"h1",pb:8,children:u("components.ratingModal.congrats")}),(0,r.jsx)(s.xv,{children:u("components.ratingModal.message")})]}),(0,r.jsx)(s.X6,{size:"h5",as:"h5",mb:2,children:u("components.ratingModal.promptForRating")}),(0,r.jsx)(q.Z,{filledColor:"feedback.warning",onClick:g,rating:m}),(0,r.jsx)(s.xv,{fontWeight:"semibold",mb:2,children:u("components.ratingModal.prompt")}),(0,r.jsx)(Z.g,{id:"nd-rating-review","aria-label":u("components.ratingModal.prompt"),required:!0,value:x,rows:6,onChange:function(e){e.preventDefault(),b(e.target.value)},mb:6,autoFocus:!0}),(0,r.jsx)(s.xv,{size:"body",children:u("components.ratingModal.sharedPublicly")}),(0,r.jsxs)(s.kC,{justifyContent:"space-between",mt:8,w:"100%",children:[(0,r.jsx)($.CopyToClipboard,{text:null!==x&&void 0!==x?x:"",children:(0,r.jsx)(H.zx,{onClick:M,variant:"solid",isDisabled:!m||!x,isLoading:O,children:u("components.ratingModal.submit")})}),(0,r.jsx)(J.Ee,{src:"/assets/paperplane.svg",alt:u("common.message"),h:"auto",w:"50%",mb:8})]})]})]})},ae=function(e){var t=e.bannerRating,n=e.handleStarRatingClick,o=e.ratingModalOpen,i=e.handleRatingModal,a=e.onClose,u=(0,l.$)().t,c=te().rating;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.kC,{justify:"center",alignItems:"center",h:8,w:"100%",bg:"black",color:"white",p:4,textAlign:"center",zIndex:"base",onClick:i,children:[(0,r.jsx)(s.xu,{as:"button",letterSpacing:.5,textDecoration:"underline",fontWeight:"semibold",children:u("components.ratingModal.rateProgram")}),(0,r.jsx)(q.Z,{emptyColor:"white",filledColor:"white",rating:t,onClick:n})]}),o&&(0,r.jsx)(ie,{submittedRating:c?c.rating:t,submittedReview:c?c.student_comment:void 0,onClose:a,ratingModalOpen:o})]})},le=n(10034),se=n(8555),ue=n(30392),ce=n(83271),de=n(33217),pe=n(47499),fe=n(34454),me=n(69549),ge=n(63929),ve=n(52199);function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(s){l=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||ye(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function je(e){return function(e){if(Array.isArray(e))return he(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ye(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e,t){if(e){if("string"===typeof e)return he(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?he(e,t):void 0}}var we=function(e){var t,n=e.nanodegree,d=e.part,m=(0,l.$)().t,g=(0,fe.V)(),h=(0,D.z)(),j=h.page,y=h.track,w=(0,O.P)(),S=w.isStaticAccess,E=w.expiryDate,M=(0,me.B)(),A=M.selectEnrollmentForKey,I=M.checkUpgradeEnrollment,P=(0,ge.A)().postProgramUserState,R=(0,i.useRouter)().replace,_=te(),N=_.rating,U=_.ratingSubmitted,B=(0,re.a)().user,F=A(null!==(t=n.key)&&void 0!==t?t:""),L=(0,o.useState)(b.pX.Core),K=L[0],X=L[1],$=(0,o.useState)(0),Z=$[0],H=$[1],J=(0,o.useState)(void 0),G=J[0],W=J[1],V=(0,o.useState)(!1),q=V[0],Y=V[1],Q=(0,ve.F)({nanodegree:n},B);(0,o.useEffect)((function(){Q&&R(Q)}),[Q,R]);var ee=(0,o.useMemo)((function(){var e;return null===(e=n.parts)||void 0===e?void 0:e.filter((function(e){return!e.isCareer&&!e.isOptional}))}),[n]),ne=(0,o.useMemo)((function(){return(0,pe.B)(null===ee||void 0===ee?void 0:ee.flatMap((function(e){return e.lessons})).filter(k.$))}),[ee]),oe=(0,o.useMemo)((function(){var e;return null===(e=n.parts)||void 0===e?void 0:e.filter((function(e){return e.isCareer}))}),[n]),ie=(0,o.useMemo)((function(){var e;return null===(e=n.parts)||void 0===e?void 0:e.filter((function(e){return e.isOptional}))}),[n]),he=!!(null===ee||void 0===ee?void 0:ee.length),ye=!!(null===ie||void 0===ie?void 0:ie.length),we=!!(null===oe||void 0===oe?void 0:oe.length),Se=be([he,ye,we].reduce((function(e,t){if(t){var n=e.filter((function(e){return null!==e})).length;return je(e).concat([n])}return je(e).concat([null])}),[]),3),Ce=Se[0],ke=Se[1],Ee=Se[2],Te=(0,o.useMemo)((function(){return K===b.pX.Core?ee:K===b.pX.Elective?ie:oe}),[K,ee,ie,oe]),Oe=(0,o.useMemo)((function(){var e=0;return e+=he?1:0,e+=ye?1:0,(e+=we?1:0)>1}),[he,we,ye]),Me=(0,o.useMemo)((function(){if(!Te)return 0;var e=Te.reduce((function(e,t){var n=e.total,r=e.completed,o=(0,v.Km)(t),i=(0,se.S3)(t).completedProjectCount;return{total:n+o.total,completed:r+o.completed+i}}),{total:0,completed:0}),t=e.total,n=e.completed;return Math.round(n/Math.max(t,1)*100)}),[Te]),Ae=(0,o.useMemo)((function(){switch(K){case b.pX.Core:return m("nanodegree.completedPercentNanodegree",{completionPercent:Me});case b.pX.Elective:return m("nanodegree.completedPercentElective",{completionPercent:Me});default:return m("nanodegree.completedPercentCareer",{completionPercent:Me})}}),[K,m,Me]);(0,o.useEffect)((function(){d&&((null===ee||void 0===ee?void 0:ee.map((function(e){return e.id})).includes(d.id))?(X(b.pX.Core),null!==Ce&&Pe(Ce)):(null===ie||void 0===ie?void 0:ie.map((function(e){return e.id})).includes(d.id))?(X(b.pX.Elective),null!==ke&&Pe(ke)):(null===oe||void 0===oe?void 0:oe.map((function(e){return e.id})).includes(d.id))&&(X(b.pX.Career),null!==Ee&&Pe(Ee)))}),[d,ee,Ce,oe,Ee,ie,ke,X]),(0,o.useEffect)((function(){y("Program Home Entered"),j("Program Home"),P(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){xe(e,t,n[t])}))}return e}({},n,{semanticType:x.R_.NANODEGREE})),F&&I(F)}),[]),(0,o.useEffect)((function(){if(S&&E){var e=(0,T.cQ)(E);e>=0&&e<=14&&g({variant:"warning",message:m("nanodegree.staticAccessWarning",{title:n.title,expiryDate:(0,T.LA)(E)})})}}),[g,E,S,n,m]);var Ie=(0,o.useMemo)((function(){return!(U||N||!n||!ne)&&(0,pe.x)(ne,7)}),[ne,n,N,U]),Pe=function(e){H(e)};return(0,r.jsxs)(r.Fragment,{children:[n.title&&(0,r.jsx)(a.PB,{title:n.title}),(0,r.jsxs)(ce.X,{bgColor:"gray.50",children:[Ie&&(0,r.jsx)(ae,{bannerRating:G,handleStarRatingClick:function(e){return W(e)},ratingModalOpen:q,handleRatingModal:function(){return Y(!0)},onClose:function(){return Y(!1)}}),(0,r.jsx)(c.Aw,{children:(0,r.jsxs)(s.Kq,{spacing:8,children:[(0,r.jsxs)("section",{children:[(0,r.jsx)(s.X6,{size:"h1",as:"h1",mb:4,children:n.title}),(0,r.jsx)(C.u,{label:Ae,children:(0,r.jsx)(f.j,{percent:Me,label:"".concat(n.title," ").concat(m("common.progress"))})})]}),(null===F||void 0===F?void 0:F.isGraduated)?(0,r.jsx)(ue.oR,{}):(null===F||void 0===F?void 0:F.isReadyForGraduation)&&!(null===F||void 0===F?void 0:F.isGraduated)&&n.key?(0,r.jsx)(p.Z,{programKey:n.key}):(0,r.jsx)(de.w,{}),(0,r.jsx)("section",{children:(0,r.jsxs)(s.kC,{direction:"column",children:[(0,r.jsx)(s.X6,{size:"h3",mb:4,children:m("common.curriculum")}),Oe&&(0,r.jsxs)(u.mQ,{index:Z,onChange:Pe,children:[(0,r.jsxs)(u.td,{mb:8,children:[he&&(0,r.jsx)(le.O,{trackingEventName:"Curriculum Cta Clicked",ctaTextEn:m("nanodegree.partType.core",{lng:"en-US"}),children:m("nanodegree.partType.core")}),ye&&(0,r.jsx)(le.O,{trackingEventName:"Curriculum Cta Clicked",ctaTextEn:m("nanodegree.partType.elective",{lng:"en-US"}),children:m("nanodegree.partType.elective")}),we&&(0,r.jsx)(le.O,{trackingEventName:"Curriculum Cta Clicked",ctaTextEn:m("nanodegree.partType.career",{lng:"en-US"}),children:m("nanodegree.partType.career")})]}),(0,r.jsxs)(u.nP,{children:[he&&(0,r.jsx)(u.x4,{p:0,children:(0,r.jsx)(z,{parts:ee})}),ye&&(0,r.jsx)(u.x4,{p:0,children:(0,r.jsx)(z,{parts:ie})}),we&&(0,r.jsx)(u.x4,{p:0,children:(0,r.jsx)(z,{parts:oe})})]})]}),!Oe&&Te&&(0,r.jsx)(z,{parts:Te})]})})]})})]})]})},Se=function(){var e=(0,h.r)(),t=e.nanodegree,n=e.part;return t?(0,r.jsx)(we,{nanodegree:t,part:n}):(0,r.jsx)(d.l,{paramName:"nanodegreeKey"})}}}]);